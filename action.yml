name: 'Prepare Release'
description: 'Interrogates the commits on a branch, since the last release, and determines the release type and release notes.'
author: 'Karl Hulme'
inputs:
  branchName:
    description: 'The name of the branch that is being targetted for release.'
    required: true
outputs:
  canRelease:
    description: 'A value of ''yes'' or ''no'' indicating if a release can be carried out.'
  releaseFailureReason:
    description: 'If ''canRelease'' is equal to ''no'' then this property will contain a reason why.'
  releaseVersion:
    description: 'The version of the new release in major.minor.patch format.'
  releaseType:
    description: 'The type of release. One of the following values: ''major'', ''minor'' or ''patch''.'
  releaseNotes:
    description: 'A formatted markdown block containing the commit comments since the last release.'
  ltsRelease:
    description: 'A value of ''yes'' or ''no'' indicating if an LTS branch should be created.'
  ltsNewBranchName:
    description: 'The name of a new long-term-support branch that should be created in lts_vX format.'
  ltsCloneFromTag:
    description: 'The name of the release tag that identifies the origin branch for the new LTS branch.'
  ltsReleaseName:
    description: 'The name of a new release that will be created on the LTS branch.'
runs:
  using: 'node12'
  main: 'dist/index.js'
branding:
  icon: 'tag'
  color: 'gray-dark'